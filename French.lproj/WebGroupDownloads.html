<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta http-equiv="refresh" content="5">
	<title>Downloads</title>
	<style type="text/css">
		* { margin: 0px; padding: 0px; }
		body { font-family: "Lucida Grande"; font-size: 13px; padding: 0px; }
		h1 { font-size: 16px; margin: 20px; color: #999; }
		.downloads { width: 100%; border-width: 0px 0px 1px 0px; border-spacing: 0px; border-style: solid; border-color: #999; }
		.icon { margin: 2px; }
		.filename { font-size: 13px; }
		.source { font-size: 13px; margin-left: 1em; }
		.status { font-size: 11px; }
		.clear { margin: 10px; }
		a { text-decoration: none; }
		a:hover { text-decoration: underline; }
		a:active { color: #900; }
		a:visited { color: #909; }
	</style>
	<script language="javascript">

function clearDownloads() {
	window.downloads.clear();
	window.location.reload();
}

function cancelDownload(id) {
	window.downloads.cancel(id);
	window.location.reload();
}

function removeDownload(id) {
	window.downloads.remove(id);
	window.location.reload();
}

function setAlternatingRowColors() {
	var table = document.getElementById('downloads');
	var allTRs = table.getElementsByTagName("tr");
	for (i = 1; i <= allTRs.length ; i++) {
		if (i % 2 == 1) allTRs[i].style.backgroundColor = "#eaf0fd";
	}
}

	</script>
	</head>
	<body onload="setAlternatingRowColors()">
	
		<$downloads?>
		<form>
		<table class="downloads" id="downloads">
		<$downloads>
		<tr>
		<td width="36">
		<img class="icon" src="bibdesk:fileicon:<$fileURL?><$fileURL.pathExtension/><?$fileURL?><$URL.pathExtension/></$fileURL?>" width="32" height="32" />
		<span class="filename">
		</td>
		<td>
		<$fileURL?>
		<a href="<$fileURL/>"><$fileURL.lastPathComponent/></a>
		<?$fileURL?>
		<$URL.lastPathComponent/>
		</$fileURL?>
		</span>
		<span class="source">
		<a href="<$URL/>">(Source)</a>
		</span>
		<br />
		<div class="status">
		<$statusDescription/>
		</span>
		</td>
		<td>
		<$status=0?>
		<input type="button" value="Cancel" onClick="cancelDownload(<$uniqueID/>)" />
		<?$status?>
		<input type="button" value="Remove" onClick="removeDownload(<$uniqueID/>)" />
		</$status?>
		</td>
		</tr>
		</$downloads>
		</table>
		<input class="clear" type="button" value="Clear" onClick="clearDownloads()" />
		</form>
		<?$downloads?>
		<h1>No Downloads</h1>
		</$downloads?>
		
	</body>
</html>
